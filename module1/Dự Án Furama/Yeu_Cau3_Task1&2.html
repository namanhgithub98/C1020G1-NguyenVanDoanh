<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    let check = false;
    let checkCmnd = false;
    let checkBD = false;
    let name = prompt('Tên');
    let tempname = "";
    name = prompt("Input name: ");
    name = name.trim().toLowerCase(); // trim() để xoá khoảng trắng ở đầu và cuối chuỗi.
    for( let i = 0;i<name.length;i++){
        if(name.charAt(i) === " " && name.charAt(i+1)=== " "){
            continue;
        }
        if(i===0 || name.charAt(i-1) ===" "){
            tempname += name.charAt(i).toUpperCase();
            continue;
        }
        tempname += name[i];
    }
    name =tempname;
    let cmnd;
    do{
        cmnd = prompt('CMND');
        if(!isNaN(cmnd)){
            cmnd = Number.parseFloat(cmnd);
        }
        if(!Number.isInteger(cmnd)){
            alert("Nhập sai định dạng");
            continue;
        }
        if(cmnd<10000000 || cmnd>99999999){
            alert("Không đúng định dạng");
            continue;
        }
        checkCmnd = true;
    }while (!checkCmnd);
    let birthday;
    let a = true;
    do{
        birthday = prompt('Ngày sinh (mm/dd/yyyy):');
        if(birthday.charAt(2) === "/" && birthday.charAt(5) === "/"){
            let day = birthday.substring(3,5);
            let month = birthday.substring(0,2);
            let year = birthday.substring(6,10);
            if(!isNaN(day) && !isNaN(month) && !isNaN(year)){
                day = Number.parseFloat(day);
                month = Number.parseFloat(month);
                year = Number.parseFloat(year);
                if(Number.isInteger(day) && Number.isInteger(month) && Number.isInteger(year)){
                    if((day>0 && day<32)&& (month >0 && month <13) && (year>1950)){
                        checkBD = true;
                    }
                }
            }
        }
    }while (!checkBD);
    let email;
    do {
        countArt =0;
        countDoc = 0;
        email = prompt('Email');
        for(let i = 0; i <email.length;i++){
            if(email.charAt(i)=="@"){
                countArt++;
                for(let j= i+1;j<email.length;j++){
                    if(email.charAt(j)== "."){
                        countDoc++;
                    }
                }
            }
        }
        if(countArt!= 1 || countDoc !=1){
            alert("Nhập sai định dạng")
        } else check = true;
    }while (!check);
    let address = prompt('Địa chỉ:');
    checkRentDays = false;
    let rentDays;
    do {
        rentDays = parseInt(prompt("Số ngày thuê:"));
        if(!isNaN(rentDays)){
            rentDays = parseFloat(rentDays);
            if( Number.isInteger(rentDays) && rentDays >0){
                checkRentDays = true;
                continue;
            }
        }
        alert("Số nhập vào phải là nguyên dương");
    } while (!checkRentDays)
    let typeCustomer = prompt("Chọn Customer:" +
        "\n Diamond" +
        "\n Platinum"+
        "\n Gold"+
        "\n Silver" +
        "\n Member");
    let typeService = prompt("Bảng giá: "+
        "\n - Villa: 500$/1 ngày "+
        "\n - House: 300$/1 ngày"+
        "\n - Room: 100$/ 1 ngày");
    let typeRoom = prompt("Bảng giá: "+
        "\n - Vip"+
        "\n - Business"+
        "\n - Normal");
    let disCount = parseInt(prompt("Nhập giảm giá: "));
    // alert("Họ tên: " +name
    //     + "\nEmail: " + email
    //     + "\nCMND: " + cmnd
    //     + "\nSố ngày thuê: " +rentDays
    //     + "\nLoại phòng: " +typeCustomer
    //     + "\nHạng khách: " +typeService);
    let choose1=parseInt(prompt("1. Hiển thị thông tin KH" +
        "\n2. Sửa thông tin" +
        "\n3. Tổng giá: "));
    switch (choose1) {
        case 1:
            prompt("Họ tên: " +name
                + "\nEmail: " +email
                + "\nCMND: " +cmnd
                + "\nSố ngày thuê: " +rentDays
                + "\nLoại phòng: " +typeService
                + "\nHạng khách: " +typeCustomer);
            break;
        case 2:
        {
            let choose2 =parseInt(prompt("1.Họ tên: " +name
                + "\n2. Email: " +email
                + "\n3. CMND: " +cmnd
                + "\n4. Số ngày thuê: " +rentDays
                + "\n5. Loại phòng: " +typeService
                + "\n6. Hạng khách: " +typeCustomer
                + "\n7. Chọn hàng mục cần sửa"));
            switch (choose2) {
                case 1:
                    name = prompt("Nhập lại tên: ");
                    break;
                case  2:
                    email = prompt("Nhập lại email: ");
                    break;
                case  3:
                    cmnd= prompt("Nhập lại CMND: ");
                    break;
                case  4:
                    rentDays= prompt("Nhập số ngày thuê: ");
                    break;
                case 5:
                    typeService = prompt("Nhập loại phòng: ");
                    break;
                case 6:
                    typeCustomer = prompt("Nhập lại khách: ");
                    break;
                default: alert("Không có trong trình đơn");
            }
        }
            break;
        case 3:
        {
            let a;
            if (typeService=="Villa"){
                switch (typeCustomer) {
                    case "Diamond":
                        a=500*rentDays*(1-disCount/100) -15;
                        break;
                    case "Platinum":
                        a=500*rentDays*(1-disCount/100) - 10;
                        break;
                    case "Gold":
                        a=500*rentDays*(1-disCount/100) -5;
                        break;
                    case "Silver":
                        a=500*rentDays*(1-disCount/100) -2;
                        break;
                    case  "Member":
                        a=500*rentDays*(1-disCount/100);
                }
            } else if(typeService=="House"){
                switch (typeCustomer) {
                    case "Diamond":
                        a=300*rentDays*(1-disCount/100)-15;
                        break;
                    case "Platinum":
                        a=300*rentDays*(1-disCount/100)-10;
                        break;
                    case "Gold":
                        a=300*rentDays*(1-disCount/100)-5;
                        break;
                    case "Silver":
                        a=300*rentDays*(1-disCount/100)-2;
                        break;
                    case  "Member":
                        a=300*rentDays*(1-disCount/100);
                }
            } else if(typeService=="Room"){
                switch (typeCustomer) {
                    case "Diamond":
                        a=100*rentDays*(1-disCount/100)-15;
                        break;
                    case "Platinum":
                        a=100*rentDays*(1-disCount/100)-10;
                        break;
                    case "Gold":
                        a=100*rentDays*(1-disCount/100)-5;
                        break;
                    case "Silver":
                        a=100*rentDays*(1-disCount/100)-2;
                        break;
                    case  "Member":
                        a=100*rentDays*(1-disCount/100);
                }
            }
            if(rentDays>7){
                a=a-30;
                if(a>=5)
                    a=a-20;
            }else a=a-10;
            if(address=="Đà Nẵng"){
                let currentYear = new Date().getFullYear();
                let birthday1 = new Date(birthday).getFullYear();
                let ageCustomer = currentYear - birthday1;
                if(ageCustomer>30)
                    a=a-2;
                if(ageCustomer<=30 && ageCustomer>=20)
                    a=a-1;
                a=a-20;
            } else if(address=="Huế"){
                a=a-10
            } else a=a-5;
            alert("Tổng tiền là: "+a);
        }
            break;
        default: alert("Failed");
    }
</script>
</body>
</html>
//
//

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Nhập thông tin</title>
</head>
<body>
<script>
    let name = prompt('Tên');
    let cmnd = prompt('CMND');
    let birthday = prompt('Ngày sinh (mm/dd/yyyy):')
    let email = prompt('Email');
    let address = prompt('Địa chỉ:');
    let rentDays = parseInt(prompt("Số ngày thuê:"));
    let typeCustomer = prompt("Chọn Customer:" +
        "\n Diamond" +
        "\n Platinum"+
        "\n Gold"+
        "\n Silver" +
        "\n Member");
    let typeService = prompt("Bảng giá: "+
        "\n - Villa: 500$/1 ngày "+
        "\n - House: 300$/1 ngày"+
        "\n - Room: 100$/ 1 ngày");
    let typeRoom = prompt("Bảng giá: "+
        "\n - Vip"+
        "\n - Business"+
        "\n - Normal");
    let disCount = parseInt(prompt("Nhập giảm giá: "));
    // alert("Họ tên: " +name
    //     + "\nEmail: " + email
    //     + "\nCMND: " + cmnd
    //     + "\nSố ngày thuê: " +rentDays
    //     + "\nLoại phòng: " +typeCustomer
    //     + "\nHạng khách: " +typeService);
    let choose1=parseInt(prompt("1. Hiển thị thông tin KH" +
        "\n2. Sửa thông tin" +
        "\n3. Tổng giá: "));
    switch (choose1) {
        case 1:
            prompt("Họ tên: " +name
                + "\nEmail: " + email
                + "\nCMND: " + cmnd
                + "\nSố ngày thuê: " +rentDays
                + "\nLoại phòng: " +typeService
                + "\nHạng khách: " +typeCustomer);
            break;
        case 2:
        {
            let choose2 =parseInt(prompt("1.Họ tên: " +name
                + "\n2. Email: " + email
                + "\n3. CMND: " + cmnd
                + "\n4. Số ngày thuê: " +rentDays
                + "\n5. Loại phòng: " +typeService
                + "\n6. Hạng khách: " +typeCustomer
                + "\n7. Chọn hàng mục cần sửa"));
            switch (choose2) {
                case 1:
                    name = prompt("Nhập lại tên: ");
                    break;
                case  2:
                    email = prompt("Nhập lại email: ");
                    break;
                case  3:
                    cmnd= prompt("Nhập lại CMND: ");
                    break;
                case  4:
                    rentDays= prompt("Nhập số ngày thuê: ");
                    break;
                case 5:
                    typeService = prompt("Nhập loại phòng: ");
                    break;
                case 6:
                    typeCustomer = prompt("Nhập lại khách: ");
                    break;
                default: alert("Không có trong trình đơn");
            }
        }
            break;
        case 3:
        {
            let a;
            if (typeService=="Villa"){
                switch (typeCustomer) {
                    case "Diamond":
                        a=500*rentDays*(1-disCount/100) -15;
                        break;
                    case "Platinum":
                        a=500*rentDays*(1-disCount/100) - 10;
                        break;
                    case "Gold":
                        a=500*rentDays*(1-disCount/100) -5;
                        break;
                    case "Silver":
                        a=500*rentDays*(1-disCount/100) -2;
                        break;
                    case  "Member":
                        a=500*rentDays*(1-disCount/100);
                }
            } else if(typeService=="House"){
                switch (typeCustomer) {
                    case "Diamond":
                        a=300*rentDays*(1-disCount/100)-15;
                        break;
                    case "Platinum":
                        a=300*rentDays*(1-disCount/100)-10;
                        break;
                    case "Gold":
                        a=300*rentDays*(1-disCount/100)-5;
                        break;
                    case "Silver":
                        a=300*rentDays*(1-disCount/100)-2;
                        break;
                    case  "Member":
                        a=300*rentDays*(1-disCount/100);
                }
            } else if(typeService=="Room"){
                switch (typeCustomer) {
                    case "Diamond":
                        a=100*rentDays*(1-disCount/100)-15;
                        break;
                    case "Platinum":
                        a=100*rentDays*(1-disCount/100)-10;
                        break;
                    case "Gold":
                        a=100*rentDays*(1-disCount/100)-5;
                        break;
                    case "Silver":
                        a=100*rentDays*(1-disCount/100)-2;
                        break;
                    case  "Member":
                        a=100*rentDays*(1-disCount/100);
                }
            }
            if(rentDays>7){
                a=a-30;
                if(a>=5)
                    a=a-20;
            }else a=a-10;
            if(address=="Đà Nẵng"){
                let currentYear = new Date().getFullYear();
                let birthday1 = new Date(birthday).getFullYear();
                let ageCustomer = currentYear - birthday1;
                if(ageCustomer>30)
                    a=a-2;
                if(ageCustomer<=30 && ageCustomer>=20)
                    a=a-1;
                a=a-20;
            } else if(address=="Huế"){
                a=a-10
            } else a=a-5;
            alert("Tổng tiền là: "+a);
        }
            break;
        default: alert("Failed");
    }
</script>
</body>
</html>